可参考的文章：

1、https://learn.lianglianglee.com/%e4%b8%93%e6%a0%8f/%e7%99%bd%e8%af%9d%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%2028%20%e8%ae%b2%ef%bc%88%e5%ae%8c%ef%bc%89/00%20%e7%94%9f%e6%b4%bb%e4%b8%ad%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%ef%bc%9a%e5%90%af%e7%a8%8b%e4%b9%8b%e5%89%8d%ef%bc%8c%e8%af%b7%e4%b8%8d%e8%a6%81%e9%94%99%e8%bf%87%e6%88%91.md 极客时间专栏

2、https://refactoringguru.cn/design-patterns/state/java/example  设计模式代码
3、https://juejin.cn/post/6994331408248340488 博客

### 1、观察者模式（监听模式）



阿毛有个水壶，每次想要烧水喝就需要守在水壶旁边，就没办法去做其他事情。他想着买个智能的热水器，自己可以去干别的事情，到指定的温度就能告警通知自己。



对象：

- 观察者：智能设备，用来监控某个行为  （多个观察着）
- 被观察者：在上述情况下，就是水的温度  （1个）

抽象的代码：

```java
// 观察者
public class Observer {
    // 被观察者的行为触发条件 
    public void update(Observable observable) {
    }
}

public class Observable {

    private String param;

    private List<Observer> observerList = new ArrayList<Observer>();

    public String getParam() {
        return param;
    }

    public void setParam(String param) {
        this.param = param;
        // notify
        notifyAllObserver();
    }

    public void addObserver(Observer observer) {
        observerList.add(observer);
    }


    public void removeObserver(Observer observer) {
        observerList.remove(observer);
    }

    private void notifyAllObserver() {
        for (Observer observer : observerList) {
            observer.update(this);
        }
    }

}

```

addObserver，removeObserver 分别用于添加和删除观察者，notifyObservers 用于内容或状态变化时通知所有的观察者。因为 Observable 的 notifyAllObserver 会调用 Observer 的 update 方法，所有观察者不需要关心被观察的对象什么时候会发生变化，只要有变化就是自动调用 update，只需要关注 update 实现就可以了。



推拉模型

- 推模型：被观察者





### 2、模版方法模式



processor、airbusQuery

抽象类

- 模版方法：定义算法的骨架，按照某种顺序调用包含的基本方法  queryData
- 具体方法：可以抽象类实现，也可以子类覆盖      request构建、response构建
- 钩子方法：一些判断逻辑，使得方法更加灵活    isQueryLeast